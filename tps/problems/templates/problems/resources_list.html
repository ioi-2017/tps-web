{% load i18n %}
{% load problems_tags %}
<div class="row">
    <h2> {% trans 'Resources' %} </h2>
</div>
{% if revision_editable %}
    <div class="row">
        <a href="{% problem_url "problems:add_resource" %}?next={{request.path}}" class="btn btn-success">
            <i class="fa fa-plus"></i> {% trans 'Upload an resource' %}
        </a>
    </div>
{% endif %}
<br />
<div class="row">
    <p class="text-muted">
        * {% trans 'When compiling a source resources are placed on the same folder as the source file.' %}
    </p>
{% if resources %}
    <table class="table table-responsive table-bordered table-striped">
        <thead>
            <tr>
                <th> {% trans 'Name' %} </th>
                {% if revision_editable %}
                    <th></th>
                {% endif %}
            </tr>
        </thead>
        <tbody>
        {% for resource in resources %}
            <tr>
                <td> <a href="{% problem_url "problems:download_resource" resource.id %}">{{ resource }} </a></td>
                {% if revision_editable %}
                <td>
                    <a class="text-primary" href='{% problem_url "problems:edit_resource" resource.id %}?next={{request.path}}'>
                        <i class="fa fa-pencil fa-lg" title="{% trans 'Edit' %}"></i></a>
                    <a class="text-danger" data-method='delete' data-confirm='{% trans 'Are you sure you want to delete this resource?' %}' href='{% problem_url "problems:delete_resource" resource.id %}?next={{request.path}}'>
                        <i class="fa fa-remove fa-lg" title="{% trans 'Delete' %}"></i></a>
                </td>
                {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <h4 class="text-muted">
        {% trans 'No resource uploaded' %}
    </h4>
{% endif %}
</div>
